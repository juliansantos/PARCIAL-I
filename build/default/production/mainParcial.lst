MPASM 5.68                   MAINPARCIAL.ASM   9-22-2016  0:38:37         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ;Author: Julian Santos B
                      00002 ;Description: Scheduller
                      00003     #include "p16F628A.inc"
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ; Build date : May 15 2016
                      00005 ;  MPASM PIC16F628A processor include
                      00006 ; 
                      00007 ;  (c) Copyright 1999-2016 Microchip Technology, All rights reserved
                      00008 ;==========================================================================
                      00009 
                      00386         LIST
                      00004     #define pindisplay1 PORTA,RA0;Base transistor 1
                      00005     #define pindisplay2 PORTA,RA1;Base transistor 2
                      00006     #define pindisplay3 PORTA,RA2;Base transistor 3 
                      00007     #define pindisplay4 PORTA,RA3;Base transistor 4
                      00008     #define pinDATA PORTB,RB6;Data (anode-> 7 segment) 
                      00009     #define pinLATCH PORTB,RB5;To latch the data in 595
                      00010     #define pinCLOCK PORTB,RB7 ;Clock for 595
                      00011     #define push 3 ; bit for enabling push
                      00012     #define debouncing 0 ; Bit 0 for enabling debouncing
                      00013     #define buzzer 1 ;Bit 1 for enabling debouncing
                      00014     #define dysdata 2 ;Bit 2 for enabling show data 
                      00015     #define whistle 4 ; Bit 4 for enabling whistle of the buzzer
                      00016     #define pinbuzzer PORTA,RA7
                      00017     
2007   3F38           00018  __CONFIG _FOSC_INTOSCIO & _WDTE_OFF & _PWRTE_OFF & _MCLRE_ON & _BOREN_OFF & _LVP_OFF & _CPD_OFF & _CP_O
                            FF
                      00019  
                      00020     CBLOCK 0x20
  00000020            00021     stack:8 ; Stack
  00000028            00022     datatmp
  00000029            00023     Task ; bit
  0000002A            00024     counterdebouncer:2 ; var to how often this subroutine is done
  0000002C            00025     counterdisplay
  0000002D            00026     counterbuzzer
  0000002E            00027     basetransistor ; states of base tran
  0000002F            00028     count8
  00000030            00029     statustmp
  00000031            00030     wtemp
  00000032            00031     data595
  00000033            00032     delayvar:3
  00000036            00033     tempstack:2
                      00034     ENDC
                      00035     
                      00036     org 0x00 ; Start of the program 
0000   2???           00037     goto main 
                      00038     org 0x08 ;Interrupt vector high priority interrupts 
0008   2???           00039     goto ISR  
                      00040 
                      00041 ;*************************************************************FOREGROUND RoUTINE
0009                  00042 main:
MPASM 5.68                   MAINPARCIAL.ASM   9-22-2016  0:38:37         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0009   2???           00043     call initialconfig
000A   2???           00044     call initialstates
000B   2???           00045     call initINT0
000C   2???           00046     call initTMR0
                      00047     
000D                  00048 task:   
                      00049     ;polling flags (task)
000D   1829           00050     btfsc Task,debouncing; task for debouncing
000E   2???           00051     call rdebouncing
000F   18A9           00052     btfsc Task,buzzer
0010   2???           00053     call togglebuzzer; Bit toggle pin buzzer
0011   1929           00054     btfsc Task,dysdata
0012   2???           00055     call showdigit ; Show digit display
0013   1A29           00056     btfsc Task,whistle
0014   2???           00057     call offbuzzer
0015   2???           00058     goto task
                      00059 
0016                  00060 rdebouncing: ; ----------------------------------------
0016   108B           00061     bcf INTCON,INTF
0017   160B           00062     bsf INTCON,INTE 
0018   1029           00063     bcf Task,debouncing
0019   11A9           00064     bcf Task,push
001A   138B           00065     bcf INTCON,GIE
001B   2???           00066        call rotateStack
001C   178B           00067     bsf INTCON,GIE   
001D   0008           00068     return
                      00069     
001E                  00070 togglebuzzer: ; ------------------------------subroutine for toggling the buzzer
001E   01AD           00071     clrf counterbuzzer
001F   10A9           00072     bcf Task,buzzer
0020   3080           00073     movlw b'10000000' ; Just for toggling
Message[305]: Using default destination of 1 (file).
0021   0685           00074     xorwf PORTA
0022   0008           00075     return
                      00076     
0023                  00077 offbuzzer: ;-----------------------------subroutine to turn off the buzzer   
0023   1683           00078     bsf STATUS,RP0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0024   1785           00079     bsf TRISA,7
0025   1283           00080     bcf STATUS,RP0
0026   1229           00081     bcf Task,whistle
                      00082   
0027   0008           00083     return
                      00084     
0028                  00085 showdigit: ; --------------------------------subroutine for show data in 4(7seg)
0028   01AC           00086     clrf counterdisplay
0029   1003           00087     bcf STATUS,C
002A   0DAE           00088     rlf basetransistor,F
002B   3001           00089     movlw 0x01
002C   1A2E           00090     btfsc basetransistor,4 ;test if a rolls over occurred
002D   00AE           00091     movwf basetransistor
002E   1185           00092     bcf pindisplay4
002F   1105           00093     bcf pindisplay3
MPASM 5.68                   MAINPARCIAL.ASM   9-22-2016  0:38:37         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0030   1085           00094     bcf pindisplay2
0031   1005           00095     bcf pindisplay1
0032   2???           00096     call sendata ; sending data to 595
                      00097     
0033   19AE           00098     btfsc basetransistor,3 ;turn on display 4?
0034   1585           00099     bsf pindisplay4
0035   192E           00100     btfsc basetransistor,2 ;turn on display 3?
0036   1505           00101     bsf pindisplay3
0037   18AE           00102     btfsc basetransistor,1 ;turn on display 2? 
0038   1485           00103     bsf pindisplay2
0039   182E           00104     btfsc basetransistor,0 ;turn on display 1?
003A   1405           00105     bsf pindisplay1
003B   1129           00106     bcf Task,dysdata
                      00107    ; goto $
003C   0008           00108     return
                      00109     
003D                  00110 sendata: ;----------------------------subruoutine to send serial data to display
003D   19AE           00111     btfsc basetransistor,3 ;turn on display 4?
003E   0823           00112     movf stack+3,W
003F   192E           00113     btfsc basetransistor,2 ;turn on display 3?
0040   0822           00114     movf stack+2,W
0041   18AE           00115     btfsc basetransistor,1 ;turn on display 2? 
0042   0821           00116     movf stack+1,W
0043   182E           00117     btfsc basetransistor,0 ;turn on display 1?
0044   0820           00118     movf stack,W
0045   00A8           00119     movwf datatmp
0046   138B           00120     bcf INTCON,GIE
0047   2???           00121     call tabla 
                      00122    ; movlw b'11111100'
0048   00B2           00123     movwf data595;send serial data to 595
0049   2???           00124     call send8
004A   2???           00125     call latch
004B   178B           00126     bsf INTCON,GIE
004C   0008           00127     return
                      00128 
004D                  00129 send8:
004D   1003           00130     bcf STATUS,C
004E   0CB2           00131     rrf data595,F ; LSB -> C
004F   1803           00132     btfsc STATUS,C
0050   1706           00133     bsf pinDATA ; Carry =1 then Data=1 
0051   1C03           00134     btfss STATUS,C
0052   1306           00135     bcf pinDATA ; Carry =0 then Data=0
0053   0AAF           00136     incf count8,F ; Increment counter
0054   2???           00137     call pclock ; sending a positive edge 9clock)
0055   1DAF           00138     btfss count8,3 ;test if count=8
0056   2???           00139     goto send8 ;else, continue rotating
0057   01AF           00140     clrf count8 ; clear counter 8 bit
0058   0008           00141     return    
                      00142     
0059                  00143 pclock:
0059   1786           00144     bsf pinCLOCK
005A   1386           00145     bcf pinCLOCK
005B   0008           00146     return
MPASM 5.68                   MAINPARCIAL.ASM   9-22-2016  0:38:37         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00147 ;-----------------------------------------------Subrutine for latch data (clock)    
005C                  00148 latch:
005C   1686           00149     bsf pinLATCH
005D   1286           00150     bcf pinLATCH    
005E   0008           00151     return    
                      00152     
005F                  00153 initialconfig: ;----------------------------------------subrutine for MCU config
005F   1283           00154     bcf STATUS,RP0; Bank 0
0060   1303           00155     bcf STATUS,RP1 
0061   3007           00156     movlw 0x07
0062   009F           00157     movwf CMCON ; pin as digital
0063   1683           00158     bsf STATUS,RP0; Bank 1
0064   1303           00159     bcf STATUS,RP1 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0065   0185           00160     clrf TRISA ; Setting data direction PortA
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0066   0186           00161     clrf TRISB ; Setting data direction PortB
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0067   1785           00162     bsf TRISA,7 ; Buzzer OFF
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0068   1406           00163     bsf TRISB,RB0 ; External interrupt
0069   1283           00164     bcf STATUS,RP0 ;Bank 0 
006A   1303           00165     bcf STATUS,RP1
006B   0008           00166     return
                      00167     
006C                  00168 initialstates: ;-------------------------subrutine for setting the initialstates   
006C   3048           00169     movlw 'H'
006D   00A0           00170     movwf stack   ; initial states of the stack
006E   3030           00171     movlw '0'
006F   00A1           00172     movwf stack+1
0070   304C           00173     movlw 'L'
0071   00A2           00174     movwf stack+2
0072   3041           00175     movlw 'A'
0073   00A3           00176     movwf stack+3
0074   3020           00177     movlw ' '
0075   00A4           00178     movwf stack+4
0076   3031           00179     movlw '1'
0077   00A5           00180     movwf stack+5
0078   3032           00181     movlw '2'
0079   00A6           00182     movwf stack+6
007A   3033           00183     movlw '3'
007B   00A7           00184     movwf stack+7
007C   1005           00185     bcf pindisplay1 ; Turn off displays
007D   1085           00186     bcf pindisplay2
007E   1105           00187     bcf pindisplay3
007F   1185           00188     bcf pindisplay4
0080   1386           00189     bcf pinCLOCK ; idle state 595
0081   1306           00190     bcf pinDATA
0082   1286           00191     bcf pinLATCH
0083   1385           00192     bcf pinbuzzer
0084   01AD           00193     clrf counterbuzzer
0085   01AC           00194     clrf counterdisplay 
0086   01A9           00195     clrf Task ;initial Task disemable
MPASM 5.68                   MAINPARCIAL.ASM   9-22-2016  0:38:37         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0087   3001           00196     movlw 0x01
0088   00AE           00197     movwf basetransistor
0089   01AF           00198     clrf count8
008A   0008           00199     return
                      00200     
008B                  00201 initTMR0: ;-----------------------------------subrutine for setting the TIMER 0
008B   1683           00202     bsf STATUS,RP0; Bank 1
008C   1303           00203     bcf STATUS,RP1
008D   30C0           00204     movlw b'11000000' ; disenable pull-up,  rising edge INT0, CS=0, PS=1:2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
008E   0081           00205     movwf OPTION_REG
008F   1283           00206     bcf STATUS,RP0; Bank 0
0090   1303           00207     bcf STATUS,RP1
0091   30E7           00208     movlw -d'25' ; 50useg   : Tosc/4=1us
0092   0081           00209     movwf TMR0 
0093   110B           00210     bcf INTCON,T0IF ; Clearing interrupt flag timer 0
0094   168B           00211     bsf INTCON,T0IE ; Enabling interrupt timer 0
0095   178B           00212     bsf INTCON,GIE ; Enabling globla interrupt
0096   0008           00213     return
                      00214     
0097                  00215 initINT0: ;-------------------------subrutine for setting the external interrupt
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0097   1781           00216     bsf OPTION_REG,7 ;disnabling pull-up resistor
0098   108B           00217     bcf INTCON,INTF  ;clearing flag
0099   160B           00218     bsf INTCON,INTE ;enabling interrupt
009A   178B           00219     bsf INTCON,GIE ;enabling global interrups
009B   0008           00220     return
                      00221     
                      00222 ;**************************************************************BACKGROUND RUTINE    
009C                  00223 ISR:
                      00224     ; context saving (WREG, STATUS)
009C   00B1           00225     movwf wtemp
009D   0803           00226     movf STATUS,W
009E   00B0           00227     movwf statustmp
                      00228     
009F   1283           00229     bcf STATUS,RP0; bank 0
00A0   1303           00230     bcf STATUS,RP1 
                      00231     
00A1   190B           00232     btfsc INTCON,T0IF
00A2   2???           00233     call TMR0ISR
00A3   188B           00234     btfsc INTCON,INTF
00A4   2???           00235     call INT0ISR
                      00236     ;btfsc usart
                      00237     ;Restore context saving (WREG, STATUS)
00A5   0830           00238     movf statustmp,W
00A6   0083           00239     movwf STATUS
00A7   0831           00240     movf wtemp,W
00A8   0009           00241     retfie  ; Restoring the status before the interrupt
                      00242  
00A9                  00243 TMR0ISR:
                      00244     ;TASK 1
00A9   0AAD           00245     incf counterbuzzer,F      ;| counterbuzzer++
00AA   3005           00246     movlw 0x05                ;| counterbuzzer=5?
MPASM 5.68                   MAINPARCIAL.ASM   9-22-2016  0:38:37         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00AB   022D           00247     subwf counterbuzzer,W     ;| cycles=5
00AC   1903           00248     btfsc STATUS,Z            ;|
00AD   14A9           00249     bsf Task,buzzer           ;|
                      00250     
                      00251     ;TASK 2
00AE   0AAC           00252     incf counterdisplay,F     ;| counterdisplay++
00AF   303F           00253     movlw d'63'               ;| counterdisplay=62.5? 'LOL'             
00B0   022C           00254     subwf counterdisplay,W    ;| cycles=5
00B1   1903           00255     btfsc STATUS,Z            ;|
00B2   1529           00256     bsf Task,dysdata          ;|
                      00257 
                      00258     ;TASK 3
00B3   0AAA           00259     incf counterdebouncer,F     ;| counterdisplay++
00B4   30FF           00260     movlw d'255'                      ;| counterdisplay=62.5? 'LOL'             
00B5   022A           00261     subwf counterdebouncer,W    ;| cycles=5
00B6   1903           00262     btfsc STATUS,Z              ;|
Message[305]: Using default destination of 1 (file).
00B7   0AAB           00263     incf counterdebouncer+1
00B8   300A           00264     movlw d'10'
00B9   022B           00265     subwf counterdebouncer+1,W    ;| cycles=5
00BA   1903           00266     btfsc STATUS,Z
00BB   1429           00267     bsf Task,debouncing
00BC   1DA9           00268     btfss Task,push
00BD   1029           00269     bcf Task,debouncing
                      00270     
                      00271     ;TASK 4 'Whistle'
00BE   3005           00272     movlw d'5'
00BF   022B           00273     subwf counterdebouncer+1,W
00C0   1903           00274     btfsc STATUS,Z
00C1   1629           00275     bsf Task,whistle
00C2   1DA9           00276     btfss Task,push
00C3   1229           00277     bcf Task,whistle
                      00278     
                      00279     
00C4   30E7           00280     movlw -d'25' ; 50useg (50)/2   (50-2-2-2-5-5)/2
                      00281     ;MOVLW 0X00
00C5   0081           00282     movwf TMR0 
00C6   110B           00283     bcf INTCON,T0IF ;Clearing interrupt flag TMR0
00C7   0008           00284     return
                      00285     
00C8                  00286 INT0ISR: 
                      00287     ;goto $
00C8   120B           00288     bcf INTCON,INTE
00C9   108B           00289     bcf INTCON,INTF ;Clearing the flag
00CA   01AA           00290     clrf counterdebouncer
00CB   01AB           00291     clrf counterdebouncer+1
                      00292     ;clrf basetransistor
00CC   15A9           00293     bsf Task,push
00CD   1683           00294     bsf STATUS,RP0
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
00CE   1385           00295     bcf TRISA,7 ;turn on buzzer
00CF   1283           00296     bcf STATUS,RP0
                      00297      ;call rotateStack
MPASM 5.68                   MAINPARCIAL.ASM   9-22-2016  0:38:37         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00298      ;bcf INTCON,INTE
00D0   0008           00299     return
                      00300     
00D1                  00301 rotateStack:
00D1   0820           00302     movf stack,W ;pos 0
00D2   00B6           00303     movwf tempstack ;save stack 0
00D3   0827           00304     movf stack+7,W
00D4   00A0           00305     movwf stack ; 7 -> 0
                      00306     
00D5   0821           00307     movf stack+1,W ;save stack 1
00D6   00B7           00308     movwf tempstack+1 
00D7   0836           00309     movf tempstack,W
00D8   00A1           00310     movwf stack+1 ; 0 -> 1
                      00311     
00D9   0822           00312     movf stack+2,W ;save stack 2
00DA   00B6           00313     movwf tempstack 
00DB   0837           00314     movf tempstack+1,W
00DC   00A2           00315     movwf stack+2 ; 1->2 
                      00316     
00DD   0823           00317     movf stack+3,W ;save stack 1
00DE   00B7           00318     movwf tempstack+1 
00DF   0836           00319     movf tempstack,W
00E0   00A3           00320     movwf stack+3 ; 2 -> 3
                      00321     
00E1   0824           00322     movf stack+4,W ;save stack 2
00E2   00B6           00323     movwf tempstack 
00E3   0837           00324     movf tempstack+1,W
00E4   00A4           00325     movwf stack+4 ; 3->4 
                      00326     
00E5   0825           00327      movf stack+5,W ;save stack 1
00E6   00B7           00328     movwf tempstack+1 
00E7   0836           00329     movf tempstack,W
00E8   00A5           00330     movwf stack+5 ; 4 -> 5
                      00331     
00E9   0826           00332     movf stack+6,W ;save stack 2
00EA   00B6           00333     movwf tempstack 
00EB   0837           00334     movf tempstack+1,W
00EC   00A6           00335     movwf stack+6 ; 5->6 
                      00336     
00ED   0827           00337      movf stack+7,W ;save stack 1
00EE   00B7           00338     movwf tempstack+1 
00EF   0836           00339     movf tempstack,W
00F0   00A7           00340     movwf stack+7 ; 6 -> 7
00F1   0008           00341     return
                      00342     
00F2                  00343 tabla:  ; Table for display data in a 7segment display
00F2   3030           00344     movlw '0' 
00F3   0228           00345     subwf datatmp,W
00F4   1903           00346     btfsc STATUS,Z
00F5   2???           00347     goto num0
00F6   3031           00348     movlw '1' 
00F7   0228           00349     subwf datatmp,W
00F8   1903           00350     btfsc STATUS,Z
MPASM 5.68                   MAINPARCIAL.ASM   9-22-2016  0:38:37         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00F9   2???           00351     goto num1
00FA   3032           00352     movlw '2' 
00FB   0228           00353     subwf datatmp,W
00FC   1903           00354     btfsc STATUS,Z
00FD   2???           00355     goto num2
00FE   3033           00356     movlw '3' 
00FF   0228           00357     subwf datatmp,W
0100   1903           00358     btfsc STATUS,Z
0101   2???           00359     goto num3
0102   3034           00360     movlw '4' 
0103   0228           00361     subwf datatmp,W
0104   1903           00362     btfsc STATUS,Z
0105   2???           00363     goto num4
0106   3035           00364     movlw '5' 
0107   0228           00365     subwf datatmp,W
0108   1903           00366     btfsc STATUS,Z
0109   2???           00367     goto num5
010A   3036           00368     movlw '6' 
010B   0228           00369     subwf datatmp,W
010C   1903           00370     btfsc STATUS,Z
010D   2???           00371     goto num6
010E   3037           00372     movlw '7' 
010F   0228           00373     subwf datatmp,W
0110   1903           00374     btfsc STATUS,Z
0111   2???           00375     goto num7
0112   3038           00376     movlw '8' 
0113   0228           00377     subwf datatmp,W
0114   1903           00378     btfsc STATUS,Z
0115   2???           00379     goto num8
0116   3039           00380     movlw '9' 
0117   0228           00381     subwf datatmp,W
0118   1903           00382     btfsc STATUS,Z
0119   2???           00383     goto num9
011A   3041           00384     movlw 'A' 
011B   0228           00385     subwf datatmp,W
011C   1903           00386     btfsc STATUS,Z
011D   2???           00387     goto letA
011E   3042           00388     movlw 'B' 
011F   0228           00389     subwf datatmp,W
0120   1903           00390     btfsc STATUS,Z
0121   2???           00391     goto letB
0122   3043           00392     movlw 'C' 
0123   0228           00393     subwf datatmp,W
0124   1903           00394     btfsc STATUS,Z
0125   2???           00395     goto letC
0126   3044           00396     movlw 'D' 
0127   0228           00397     subwf datatmp,W
0128   1903           00398     btfsc STATUS,Z
0129   2???           00399     goto letD    
012A   3045           00400     movlw 'E' 
012B   0228           00401     subwf datatmp,W
012C   1903           00402     btfsc STATUS,Z
012D   2???           00403     goto letE    
MPASM 5.68                   MAINPARCIAL.ASM   9-22-2016  0:38:37         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

012E   3046           00404     movlw 'F' 
012F   0228           00405     subwf datatmp,W
0130   1903           00406     btfsc STATUS,Z
0131   2???           00407     goto letF    
0132   3048           00408     movlw 'H' 
0133   0228           00409     subwf datatmp,W
0134   1903           00410     btfsc STATUS,Z
0135   2???           00411     goto letH 
0136   304C           00412     movlw 'L' 
0137   0228           00413     subwf datatmp,W
0138   1903           00414     btfsc STATUS,Z
0139   2???           00415     goto letL
013A   3050           00416     movlw 'P' 
013B   0228           00417     subwf datatmp,W
013C   1903           00418     btfsc STATUS,Z
013D   2???           00419     goto letP
013E   3055           00420     movlw 'U' 
013F   0228           00421     subwf datatmp,W
0140   1903           00422     btfsc STATUS,Z
0141   2???           00423     goto letU
0142   304E           00424     movlw 'N' 
0143   0228           00425     subwf datatmp,W
0144   1903           00426     btfsc STATUS,Z
0145   2???           00427     goto letN
0146   2???           00428     goto none  ;It has not been ingresed a correct character
                      00429     
                      00430 ;----------------------------------------------------------- Generating a delay
0147                  00431 delay10ms:  ;4MHz frecuency oscillator
0147   3054           00432     movlw d'84'  ;A Value
0148   00B4           00433     movwf delayvar+1
0149   3026           00434 d0:   movlw d'38' ;B Value
014A   00B3           00435     movwf delayvar  
014B   0000           00436     nop
014C   0BB3           00437 d1:  decfsz delayvar,F
014D   2???           00438     goto d1
014E   0BB4           00439     decfsz delayvar+1,F
014F   2???           00440     goto d0      
0150   0008           00441     return ;2+1+1+A[1+1+1+B+1+2B-2]+A+1+2A-2+2 => 5+A[5+3B]
0151                  00442 delay: ;300 ms delay
0151   300A           00443     movlw .10
0152   2???           00444     call delayW0ms
0153   0008           00445     return
                      00446     
0154                  00447 delayW0ms: ;It is neccesary load a properly value in the acumulator before use this subrutine
0154   00B5           00448     movwf delayvar+2
0155   2???           00449 d2:    call delay10ms
0156   0BB5           00450     decfsz delayvar+2,F
0157   2???           00451     goto d2
0158   0008           00452     return   
                      00453     
0159                  00454 num0:
0159   34FC           00455     retlw b'11111100' ; 0
015A                  00456 num1:    
MPASM 5.68                   MAINPARCIAL.ASM   9-22-2016  0:38:37         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

015A   3460           00457     retlw b'01100000' ; 1
015B                  00458 num2:    
015B   34DA           00459     retlw b'11011010' ; 2
015C                  00460 num3:    
015C   34F2           00461     retlw b'11110010' ; 3
015D                  00462 num4:    
015D   3466           00463     retlw b'01100110' ; 4
015E                  00464 num5:    
015E   34B6           00465     retlw b'10110110' ; 5 
015F                  00466 num6:    
015F   34BE           00467     retlw b'10111110' ; 6 
0160                  00468 num7:    
0160   34E0           00469     retlw b'11100000' ; 7
0161                  00470 num8:    
0161   34FE           00471     retlw b'11111110' ; 8 
0162                  00472 num9:    
0162   34F6           00473     retlw b'11110110' ; 9
0163                  00474 letA:    
0163   34EE           00475     retlw b'11101110' ; A 
0164                  00476 letB:    
0164   343E           00477     retlw b'00111110' ; B
0165                  00478 letC:    
0165   349C           00479     retlw b'10011100' ; C
0166                  00480 letD:    
0166   347A           00481     retlw b'01111010' ; D
0167                  00482 letE:    
0167   349E           00483     retlw b'10011110' ; E
0168                  00484 letF:    
0168   348E           00485     retlw b'10001110' ; F
0169                  00486 letH:    
0169   346E           00487     retlw b'01101110' ; H    
016A                  00488 letL:    
016A   341C           00489     retlw b'00011100' ; L   
016B                  00490 letP:    
016B   34CE           00491     retlw b'11001110' ; P      
016C                  00492 letU:    
016C   347C           00493     retlw b'01111100' ; U
016D                  00494 letN:    
016D   34EC           00495     retlw b'11101100' ; N       
016E                  00496 none:
016E   3400           00497     retlw b'00000000' ; Error
                      00498     
3F38                  00499     END
MPASM 5.68                   MAINPARCIAL.ASM   9-22-2016  0:38:37         PAGE 11


SYMBOL TABLE
  LABEL                             VALUE 

ADDEN                             00000003
ADEN                              00000003
BRGH                              00000002
C                                 00000000
C1INV                             00000004
C1OUT                             00000006
C2INV                             00000005
C2OUT                             00000007
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
CIS                               00000003
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON                             0000001F
CMIE                              00000006
CMIF                              00000006
CREN                              00000004
CSRC                              00000007
DATA_CP_OFF                       00003FFF
DATA_CP_ON                        00003EFF
DC                                00000001
EEADR                             0000009B
EECON1                            0000009C
EECON2                            0000009D
EEDATA                            0000009A
EEIE                              00000007
EEIF                              00000007
F                                 00000001
FERR                              00000002
FSR                               00000004
GIE                               00000007
INDF                              00000000
INT0ISR                           000000C8
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
ISR                               0000009C
NOT_BO                            00000000
NOT_BOD                           00000000
NOT_BOR                           00000000
MPASM 5.68                   MAINPARCIAL.ASM   9-22-2016  0:38:37         PAGE 12


SYMBOL TABLE
  LABEL                             VALUE 

NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_T1SYNC                        00000002
NOT_TO                            00000004
OERR                              00000001
OPTION_REG                        00000081
OSCF                              00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PIE1                              0000008C
PIR1                              0000000C
PORTA                             00000005
PORTB                             00000006
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RA6                               00000006
RA7                               00000007
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RP0                               00000005
RP1                               00000006
RX9                               00000006
RX9D                              00000000
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
STATUS                            00000003
SYNC                              00000004
MPASM 5.68                   MAINPARCIAL.ASM   9-22-2016  0:38:37         PAGE 13


SYMBOL TABLE
  LABEL                             VALUE 

T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1OSCEN                           00000003
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR0ISR                           000000A9
TMR1                              0000000E
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISA6                            00000006
TRISA7                            00000007
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRMT                              00000001
TX9                               00000006
TX9D                              00000000
TXEN                              00000005
TXIE                              00000004
MPASM 5.68                   MAINPARCIAL.ASM   9-22-2016  0:38:37         PAGE 14


SYMBOL TABLE
  LABEL                             VALUE 

TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
Task                              00000029
VR0                               00000000
VR1                               00000001
VR2                               00000002
VR3                               00000003
VRCON                             0000009F
VREN                              00000007
VROE                              00000006
VRR                               00000005
W                                 00000000
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_BOREN_OFF                        00003FBF
_BOREN_ON                         00003FFF
_CONFIG                           00002007
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_OFF                           00003FFF
_CP_ON                            00001FFF
_DEVID1                           00002006
_ER_OSC_CLKOUT                    00003FFF
_ER_OSC_NOCLKOUT                  00003FFE
_EXTCLK_OSC                       00003FEF
_FOSC_ECIO                        00003FEF
_FOSC_EXTRCCLK                    00003FFF
_FOSC_EXTRCIO                     00003FFE
_FOSC_HS                          00003FEE
_FOSC_INTOSCCLK                   00003FFD
_FOSC_INTOSCIO                    00003FFC
_FOSC_LP                          00003FEC
_FOSC_XT                          00003FED
_HS_OSC                           00003FEE
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
_INTOSC_OSC_CLKOUT                00003FFD
_INTOSC_OSC_NOCLKOUT              00003FFC
_INTRC_OSC_CLKOUT                 00003FFD
_INTRC_OSC_NOCLKOUT               00003FFC
_LP_OSC                           00003FEC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_MCLRE_OFF                        00003FDF
_MCLRE_ON                         00003FFF
_PWRTE_OFF                        00003FFF
MPASM 5.68                   MAINPARCIAL.ASM   9-22-2016  0:38:37         PAGE 15


SYMBOL TABLE
  LABEL                             VALUE 

_PWRTE_ON                         00003FF7
_RC_OSC_CLKOUT                    00003FFF
_RC_OSC_NOCLKOUT                  00003FFE
_WDTE_OFF                         00003FFB
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_XT_OSC                           00003FED
__16F628A                         00000001
basetransistor                    0000002E
buzzer                            1
count8                            0000002F
counterbuzzer                     0000002D
counterdebouncer                  0000002A
counterdisplay                    0000002C
d0                                00000149
d1                                0000014C
d2                                00000155
data595                           00000032
datatmp                           00000028
debouncing                        0
delay                             00000151
delay10ms                         00000147
delayW0ms                         00000154
delayvar                          00000033
dysdata                           2
initINT0                          00000097
initTMR0                          0000008B
initialconfig                     0000005F
initialstates                     0000006C
latch                             0000005C
letA                              00000163
letB                              00000164
letC                              00000165
letD                              00000166
letE                              00000167
letF                              00000168
letH                              00000169
letL                              0000016A
letN                              0000016D
letP                              0000016B
letU                              0000016C
main                              00000009
none                              0000016E
num0                              00000159
num1                              0000015A
num2                              0000015B
num3                              0000015C
num4                              0000015D
num5                              0000015E
num6                              0000015F
num7                              00000160
num8                              00000161
MPASM 5.68                   MAINPARCIAL.ASM   9-22-2016  0:38:37         PAGE 16


SYMBOL TABLE
  LABEL                             VALUE 

num9                              00000162
offbuzzer                         00000023
pclock                            00000059
pinCLOCK                          PORTB,RB7
pinDATA                           PORTB,RB6
pinLATCH                          PORTB,RB5
pinbuzzer                         PORTA,RA7
pindisplay1                       PORTA,RA0
pindisplay2                       PORTA,RA1
pindisplay3                       PORTA,RA2
pindisplay4                       PORTA,RA3
push                              3
rdebouncing                       00000016
rotateStack                       000000D1
send8                             0000004D
sendata                           0000003D
showdigit                         00000028
stack                             00000020
statustmp                         00000030
tabla                             000000F2
task                              0000000D
tempstack                         00000036
togglebuzzer                      0000001E
whistle                           4
wtemp                             00000031

Errors   :     0
Warnings :     0 reported,     0 suppressed
Messages :    10 reported,     0 suppressed

